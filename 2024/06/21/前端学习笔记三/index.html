<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta
    name="google-site-verification"
    content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"
  />
  <meta name="baidu-site-verification" content="093lY4ziMu" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, user-scalable=no"
  />
  <meta name="description" content="A hexo theme" />
  <meta name="keyword" content="dusign, hexo-theme-snail" />
  <link rel="shortcut icon" href="/img/guide.png" />
  <link
    rel="stylesheet"
    href="https://unpkg.com/@waline/client@v3/dist/waline.css"
  />
  <link rel="stylesheet" href="/css/walineRoot.css" />
  <!-- Place this tag in your head or just before your close body tag. -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>
  <!--<link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>-->
  <title>
     [Fontend Notes 3] JavaScript - XoioiioX&#39;s Blog 
  </title>

  <link
    rel="canonical"
    href="https://xoioiiox.github.io/2024/06/21/前端学习笔记三/"
  />

  <!-- Bootstrap Core CSS -->
  
<link rel="stylesheet" href="/css/bootstrap.min.css">


  <!-- Custom CSS -->
   
<link rel="stylesheet" href="/css/dusign-light.css">
 
<link rel="stylesheet" href="/css/dusign-common-light.css">
 
<link rel="stylesheet" href="/css/font-awesome.css">
 
<link rel="stylesheet" href="/css/toc.css">

  <!-- background effects end -->
  

  <!-- Pygments Highlight CSS -->
  
<link rel="stylesheet" href="/css/highlight.css">
 
<link rel="stylesheet" href="/css/widget.css">
 
<link rel="stylesheet" href="/css/rocket.css">

  
<link rel="stylesheet" href="/css/signature.css">
 
<link rel="stylesheet" href="/css/fonts.googleapis.css">


  <link
    rel="stylesheet"
    href="//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css"
  />

  <!-- photography -->
  
<link rel="stylesheet" href="/css/photography.css">


  <!-- ga & ba script hoook -->
  <script></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- background effects start -->
    
    <!-- background effects end -->

	<!-- Modified by Yu-Hsuan Yen -->
<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        
            
                background-image: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3)), url('bg.jpg')
                /*post*/
            
        
    }
    
    #signature{
        background-image: url('/img/signature/dusign.png');
    }
    
</style>

<header class="intro-header" >
    <!-- Signature -->
    <div id="signature">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                
                    <div class="post-heading">
                        <div class="tags">
                            
                              <a class="tag" href="/tags/#前端学习笔记" title="前端学习笔记">前端学习笔记</a>
                            
                        </div>
                        <h1>[Fontend Notes 3] JavaScript</h1>
                        <h2 class="subheading">前端学习笔记（三） JavaScript</h2>
                        <span class="meta">
                            Posted by xoioiiox on
                            2024-06-21
                        </span>

                        
                            <div class="blank_box"></div>
                            <span class="meta">
                                Words <span class="post-count">6.3k</span> and
                                Reading Time <span class="post-count">24</span> Minutes
                            </span>
                            <div class="blank_box"></div>
                            <!-- 不蒜子统计 start -->
                            <span class="meta">
                                Viewed <span id="busuanzi_value_page_pv"><i class="fa fa-spinner fa-spin"></i></span> Times
                            </span>
                            <!-- 不蒜子统计 end -->
                        

                    </div>
                

                </div>
            </div>
        </div>      
    </div>

    
    <div class="waveWrapper">
        <div class="wave wave_before" style="background-image: url('/img/wave-light.png')"></div>
        <div class="wave wave_after" style="background-image: url('/img/wave-light.png')"></div>
    </div>
    
</header>

	
    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">XoioiioX&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archive/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Post Content -->
<article>
  <div class="container">
    <div class="row">
      <!-- Post Container -->
      <div
        class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container"
      >
        <h1 id="JavaScript学习笔记"><a href="#JavaScript学习笔记" class="headerlink" title="JavaScript学习笔记"></a>JavaScript学习笔记</h1><h2 id="JavaScript第一步"><a href="#JavaScript第一步" class="headerlink" title="JavaScript第一步"></a>JavaScript第一步</h2><h3 id="什么是JavaScript"><a href="#什么是JavaScript" class="headerlink" title="什么是JavaScript"></a>什么是JavaScript</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>JavaScript是一种<strong>脚本编程语言</strong>，可以在网页上实现复杂的功能</p>
<ul>
<li>HTML是一种标记语言，用来结构化我们的网页内容并赋予内容含义</li>
<li>CSS是一种样式规则语言，可将样式应用于HTML内容</li>
<li>JavaScript是一种脚本语言，用来创建动态更新的内容，控制多媒体，制作图像动画等等</li>
</ul>
<h4 id="它可以做什么？"><a href="#它可以做什么？" class="headerlink" title="它可以做什么？"></a>它可以做什么？</h4><p>JavaScript语言的核心包含一些普遍的编程特性，可以做到：</p>
<ul>
<li>在变量中存储值</li>
<li>操作一段文本（string）</li>
<li>运行代码以响应网页中发生的特定事件</li>
</ul>
<p>在语言核心之上，JavaScript构建了应用程序接口（application programming interface, API）为代码提供了额外的能力。</p>
<p>API是已经构建好的一套代码组件，可以让开发者实现原本很难的程序。API通常分为两类：</p>
<ul>
<li><strong>浏览器API</strong>：内建于web浏览器中，可以将数据从周边计算机环境中筛选出来，还可以做实用的复杂工作，例如：<ul>
<li>文档对象模型 API，能通过创建、移出和修改HTML，为页面动态应用新样式等手段，操作HTML和CSS。比如页面出现弹窗，这就是DOM在运行</li>
<li>地理位置API，可以获取地理信息</li>
<li>画布（canvas）和WebGL API，可以创建生动的2D和3D图像</li>
<li>HTMLMediaElement和WebRTC等影音类API，可以在网页中直接播放音乐和影片等等</li>
</ul>
</li>
<li><strong>第三方API</strong>：没有默认嵌入浏览器中，需要在网上取得它们的代码和信息，例如：<ul>
<li>新浪微博API，可以在网站上展示最新推文</li>
<li>高德地图API，可以在网站嵌入定制的地图</li>
</ul>
</li>
</ul>
<h4 id="它在页面上做了什么？"><a href="#它在页面上做了什么？" class="headerlink" title="它在页面上做了什么？"></a>它在页面上做了什么？</h4><p>JavaScript的一个非常常见的用途是通过DOM API动态修改HTML和CSS，以更新用户界面。:warning:注意如果JavaScript先于要修改的HTML和CSS加载和运行，则可能发送错误。</p>
<p><strong>JavaScript的运行次序</strong></p>
<p>通常会按从上往下的顺序执行这段代码，需要注意代码书写的顺序，否则可能会出现<code>TypeError: para is undefined</code></p>
<p><strong>解释代码 vs 编译代码</strong></p>
<ul>
<li>解释型语言，代码自上而下运行，且实时返回运行结果。代码在由浏览器执行前，不要转换为其他形式，直接以文本格式被接收和处理</li>
<li>编译型语言，需要先将代码转化（编译）为另一种形式才能运行。</li>
</ul>
<p>JavaScript是轻量级解释型语言。几乎所有的JavaScript转换器都运用了一种叫即时编译的技术，当源代码执行时，会被编译成二进制的格式，使代码运行速度更快。尽管如此，JavaScript仍是解释型语言，因为编译发生在代码运行中，而非之前</p>
<p><strong>服务器端代码 vs 客户端代码</strong></p>
<ul>
<li>客户端代码就是运行在用户电脑上的代码。在浏览一个网页时，它的客户端代码就会被下载，然后由浏览器来运行并展示</li>
<li>服务器代码在服务器上运行，运行结果由浏览器下载并展示。流行的服务器端web语言包括：PHP、Python、Ruby、ASP.NET，JavaScript也可作为服务器端语言，比如现在流行的Node.js环境</li>
</ul>
<h4 id="如何向页面添加JavaScript？"><a href="#如何向页面添加JavaScript？" class="headerlink" title="如何向页面添加JavaScript？"></a>如何向页面添加JavaScript？</h4><p><strong>1. 内部JavaScript</strong></p>
<p>在<code>&lt;/head&gt;</code>标签结束前插入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript">  <span class="comment">// 在此编写 JavaScript 代码</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>2. 外部JavaScript</strong></p>
<p>可以把JavaScript代码放置在一个外部文件中，扩展名为.js</p>
<p>将<code>&lt;script&gt;</code>元素替换为：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"xxx.js"</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>3. 内联JavaScript处理器</strong></p>
<p>在HTML内可能包含JavaScript代码调用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"createParagraph()"</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>4. addEventListener</strong></p>
<p>通过<code>querySelectorAll()</code>函数，选择页面上所有按钮，遍历这些按钮，使用<code>addEventListener()</code>为每个按钮分配一个处理器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> buttons = <span class="built_in">document</span>.querySelectorAll(<span class="string">"button"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; buttons.length; i++) &#123;</span><br><span class="line">  buttons[i].addEventListener(<span class="string">"click"</span>, createParagraph);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>async 和 defer</strong></p>
<p>用于解决脚本阻塞问题：</p>
<ul>
<li><code>async</code>：遇到async脚本时，浏览器不会阻止页面渲染，而是直接下载然后运行。一旦下载完成，脚本就会执行，阻止页面渲染。</li>
<li><code>defer</code>：使用defer属性加载的脚本将按照它们在页面上出现的顺序加载。在页面内容全部加载完成前，脚本不会运行</li>
</ul>
<p><img src="async-defer.jpg" alt="async-defer"></p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><h4 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h4><p><strong>var 和 let的区别</strong></p>
<ul>
<li>var存在变量提升，可以先初始化再声明。let不行</li>
<li>var可以多次声明同名变量。let不行</li>
</ul>
<p>let是更新的版本，更加规范</p>
<h4 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h4><ul>
<li><p>Number</p>
</li>
<li><p>String</p>
</li>
<li><p>Boolean</p>
</li>
<li><p>Array</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myNameArray = [<span class="string">"christ"</span>, <span class="string">"bob"</span>, <span class="string">"jim"</span>];</span><br></pre></td></tr></table></figure>
</li>
<li><p>Object</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> dog = &#123;<span class="attr">name</span>: <span class="string">"spot"</span>, <span class="attr">breed</span>: <span class="string">"dalimatian"</span>&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="动态类型"><a href="#动态类型" class="headerlink" title="动态类型"></a>动态类型</h4><p>JavaScript是一种“动态类型语言”，这意味着不需要指定变量将包含什么数据类型</p>
<h3 id="JavaScript中的字符串"><a href="#JavaScript中的字符串" class="headerlink" title="JavaScript中的字符串"></a>JavaScript中的字符串</h3><h4 id="嵌入JavaScript"><a href="#嵌入JavaScript" class="headerlink" title="嵌入JavaScript"></a>嵌入JavaScript</h4><p>在<strong>模版字面量</strong>中，可以在<code>${}</code>中包装JavaScript变量或表达式，其结果将被包含在字符串中：</p>
<blockquote>
<p>模版字面量：用反引号（`）包裹的字面量</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">"克里斯"</span>;</span><br><span class="line"><span class="keyword">const</span> greeting = <span class="string">`你好，<span class="subst">$&#123;name&#125;</span>`</span>;</span><br><span class="line"><span class="built_in">console</span>.log(greeting); <span class="comment">// "你好，克里斯"</span></span><br></pre></td></tr></table></figure>
<h4 id="数字与字符串"><a href="#数字与字符串" class="headerlink" title="数字与字符串"></a>数字与字符串</h4><ul>
<li><code>Number()</code>函数会将其参数转换为数字</li>
<li><code>String()</code>函数会将其参数转换为字符串</li>
</ul>
<h4 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h4><p><strong>获取长度</strong></p>
<p>使用<code>length</code>属性，如<code>string1.length</code></p>
<p><strong>检索特定字符串字符</strong></p>
<p>如string1[0]；</p>
<p><strong>查找子字符串</strong></p>
<p><code>indexof()</code>，例如<code>string1.indexof(&quot;amy&quot;);</code></p>
<p>查找失败时返回-1</p>
<p><strong>分割字符串</strong></p>
<p><code>slice()</code>，需要给出开始结尾的字符位置：<code>string1.slice(1, 3)</code>，也可以只给出开始位置，提取该字符后的子串：<code>string1.slice(2)</code></p>
<p><strong>转换大小写</strong></p>
<p><code>toLowerCase()</code>和<code>toUpperCase()</code>，如<code>string1.toLowerCase()</code></p>
<p><strong>字符串部分替换</strong></p>
<p><code>replace()</code>，如<code>string1.replace(&quot;and&quot;, &quot;or&quot;);</code></p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><h4 id="数组方法"><a href="#数组方法" class="headerlink" title="数组方法"></a>数组方法</h4><ol>
<li>字符串与数组转换<ul>
<li><code>split()</code></li>
<li><code>join()</code>：指定分隔符；<code>toString()</code></li>
</ul>
</li>
<li>添加和删除数组项<ul>
<li><code>push()</code>：添加一个或多个元素到末尾</li>
<li><code>pop()</code>：删除最后一个元素</li>
</ul>
</li>
</ol>
<h2 id="JavaScript基础"><a href="#JavaScript基础" class="headerlink" title="JavaScript基础"></a>JavaScript基础</h2><h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><h4 id="调用函数"><a href="#调用函数" class="headerlink" title="调用函数"></a>调用函数</h4><p><strong>可选参数</strong></p>
<p>可以在函数名称后添加<code>=</code>，然后添加默认值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params">name = <span class="string">"克里斯"</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`你好，<span class="subst">$&#123;name&#125;</span>！`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hello(<span class="string">"阿里"</span>); <span class="comment">// 你好，阿里！</span></span><br><span class="line">hello(); <span class="comment">// 你好，克里斯！</span></span><br></pre></td></tr></table></figure>
<h4 id="匿名函数和箭头函数"><a href="#匿名函数和箭头函数" class="headerlink" title="匿名函数和箭头函数"></a>匿名函数和箭头函数</h4><p><strong>匿名函数</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"你好"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>它的匿名函数是：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"你好"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>匿名函数常用与一个函数希望接收另一个函数作为参数（回调函数）</p>
<p>例如，在以下例子中，可以将函数提出来：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logKey</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`You pressed "<span class="subst">$&#123;event.key&#125;</span>".`</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">textBox.addEventListener(<span class="string">"keydown"</span>, logKey);</span><br></pre></td></tr></table></figure>
<p>也可以直接将匿名函数传入：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">textBox.addEventListener(<span class="string">"keydown"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`You pressed "<span class="subst">$&#123;event.key&#125;</span>".`</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><strong>箭头函数</strong></p>
<p>可以用<code>(event) =&gt;</code>代替<code>function(event)</code></p>
<p>如果函数只包含一行return语句，可以省略，从而隐式地返回表达式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originals = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> doubled = originals.map(<span class="function"><span class="params">item</span> =&gt;</span> item * <span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(doubled); <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>
<h3 id="事件介绍"><a href="#事件介绍" class="headerlink" title="事件介绍"></a>事件介绍</h3><h4 id="什么是事件？"><a href="#什么是事件？" class="headerlink" title="什么是事件？"></a>什么是事件？</h4><p>事件是发生在你正在编程的系统中的事情，当事件发生时，系统产生某种信号，并提供一种机制，可以自动采取某种行动</p>
<p>为了对一个事件做出反应，需要给它添加一个事件处理器</p>
<h4 id="addEventListener"><a href="#addEventListener" class="headerlink" title="addEventListener()"></a>addEventListener()</h4><p>这是常用的添加事件处理器的机制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">"button"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (number + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">`rgb(<span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>, <span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>, <span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>)`</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.style.backgroundColor = rndCol;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>“click”表示我们要监听的事件，存在很多值，如：鼠标移到按钮上“mouseover”，用户按下一个键“keydown”</li>
<li>还传入了一个回调函数，表示事件发生时调用的函数。把处理函数作为一个单独的具名函数也是可以的</li>
</ul>
<p><strong>监听其他事件</strong></p>
<ul>
<li><code>focus</code>和<code>blur</code>：当按钮被聚焦或失焦时</li>
<li><code>dbclick</code>：双击</li>
<li><code>mouseover</code>和<code>mouseout</code>：当鼠标指针在按钮上悬停或移出</li>
</ul>
<p><strong>在单个事件上添加多个监听器</strong></p>
<p>事件触发时，所有处理器函数都会运行</p>
<h4 id="其他事件监听器机制"><a href="#其他事件监听器机制" class="headerlink" title="其他事件监听器机制"></a>其他事件监听器机制</h4><p><strong>事件处理器属性</strong></p>
<p>可以触发事件的对象通常也有属性，其名称是on，后面加上事件的名称，这被称为事件处理器属性。为了监听事件，可以将处理函数分配给该属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">"button"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (number + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btn.onclick = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">`rgb(<span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>, <span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>, <span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>)`</span>;</span><br><span class="line">  <span class="built_in">document</span>.body.style.backgroundColor = rndCol;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>对于事件处理器属性，不能为一个事件添加一个以上的处理函数，因为后面的定义会覆写较早设置的属性</p>
<p><strong>内联事件处理器</strong></p>
<p><u>将HTML和JavaScript混合不是一种好方法</u></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"bgChange()"</span>&gt;</span>按下我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h4><p>有时在事件处理函数内部，可能会看到一个参数，例如<code>event</code>、<code>evt</code>、<code>e</code>。这被称为<strong>事件对象</strong>，它被自动地传递给事件处理函数，已提供额外的功能和信息。例如之前的随机颜色示例，可以写作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">"button"</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">random</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (number + <span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bgChange</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> rndCol = <span class="string">`rgb(<span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>, <span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>, <span class="subst">$&#123;random(<span class="number">255</span>)&#125;</span>)`</span>;</span><br><span class="line">  e.target.style.backgroundColor = rndCol;</span><br><span class="line">  <span class="built_in">console</span>.log(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">btn.addEventListener(<span class="string">"click"</span>, bgChange);</span><br></pre></td></tr></table></figure>
<p><code>e.target</code>指的是按钮本身，也就是事件刚发生的元素的引用，所以在这个例子中，按钮随机设置颜色，而不是之前的页面</p>
<p><strong>事件对象的额外属性</strong></p>
<p>一些事件对象添加了与该特定类型的事件相关的额外属性。例如，<code>keydown</code>事件在用户按下一个键时发生。它的事件对象是<code>KeyboardEvent</code>，有一个<code>key</code>属性，告诉你哪个键被按下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"textBox"</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"output"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> textBox = <span class="built_in">document</span>.querySelector(<span class="string">"#textBox"</span>);</span><br><span class="line"><span class="keyword">const</span> output = <span class="built_in">document</span>.querySelector(<span class="string">"#output"</span>);</span><br><span class="line">textBox.addEventListener(<span class="string">"keydown"</span>, (event) =&gt; &#123;</span><br><span class="line">  output.textContent = <span class="string">`You pressed "<span class="subst">$&#123;event.key&#125;</span>".`</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="阻止默认行为"><a href="#阻止默认行为" class="headerlink" title="阻止默认行为"></a>阻止默认行为</h4><p>有时我们希望事件不执行它的默认行为。例如用户未正确提交数据时，阻止信息提交给服务器，并反馈错误提示。</p>
<p>可以在事件对象上调用<code>preventDefault()</code>函数</p>
<h4 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h4><p>事件冒泡描述了浏览器如何处理针对嵌套元素的事件</p>
<p><strong>在父元素上设置监听器</strong></p>
<p>点击按钮时，也隐含地点击了它的父元素</p>
<p><strong>冒泡示例</strong></p>
<p>如果给按钮及其父元素上同时添加事件处理器，其结果是：</p>
<ul>
<li>先触发按钮上的单击事件</li>
<li>然后是按钮的父元素（<code>&lt;div&gt;</code>元素）</li>
<li>然后是<code>&lt;div&gt;</code>的父元素（<code>&lt;body&gt;</code>元素）</li>
</ul>
<p>可以视作事件从被点击的最里面的元素<u>冒泡而出</u></p>
<h2 id="JavaScript对象介绍"><a href="#JavaScript对象介绍" class="headerlink" title="JavaScript对象介绍"></a>JavaScript对象介绍</h2><h3 id="JavaScript对象基础"><a href="#JavaScript对象基础" class="headerlink" title="JavaScript对象基础"></a>JavaScript对象基础</h3><h4 id="对象基础"><a href="#对象基础" class="headerlink" title="对象基础"></a>对象基础</h4><p>构造一个对象：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: [<span class="string">"Bob"</span>, <span class="string">"Smith"</span>],</span><br><span class="line">  age: <span class="number">32</span>,</span><br><span class="line">  bio() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name[<span class="number">0</span>]&#125;</span> <span class="subst">$&#123;<span class="keyword">this</span>.name[<span class="number">1</span>]&#125;</span> 现在 <span class="subst">$&#123;<span class="keyword">this</span>.age&#125;</span> 岁了。`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  introduceSelf() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`你好！我是 <span class="subst">$&#123;<span class="keyword">this</span>.name[<span class="number">0</span>]&#125;</span>。`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="点表示法和括号表示法"><a href="#点表示法和括号表示法" class="headerlink" title="点表示法和括号表示法"></a>点表示法和括号表示法</h4><ul>
<li>点表示法：`person.age</li>
<li>括号表示法：<code>person[&quot;age&quot;]</code></li>
</ul>
<h4 id="设置对象成员"><a href="#设置对象成员" class="headerlink" title="设置对象成员"></a>设置对象成员</h4><p>除了查询对象成员外，也可以通过声明设置对象成员的值：</p>
<p><code>person.age = 45</code></p>
<p>也可以创建新的成员：</p>
<p><code>person[&quot;eyes&quot;] = &quot;hazel&quot;</code></p>
<h4 id="this的含义"><a href="#this的含义" class="headerlink" title="this的含义"></a>this的含义</h4><p>关键字<code>this</code>指向了当前代码运行时的对象，这里指<code>person</code>对象。<code>this</code>可以让你对每个创建的对象都使用相同的方法定义，需要借助<strong>构造函数</strong></p>
<h4 id="构造函数介绍"><a href="#构造函数介绍" class="headerlink" title="构造函数介绍"></a>构造函数介绍</h4><blockquote>
<p>对象字面量：包裹在一对花括号中的一个对象的多个“属性名：属性值”列表</p>
</blockquote>
<p>使用对象字面量在只需要创建一个对象时是可以的，但如果需要创建多个对象就不够用了</p>
<p>这种情况下，我们可以使用<strong>构造函数</strong>。当我们调用构造函数时，将会：</p>
<ul>
<li>创建一个新对象</li>
<li>将<code>this</code>绑定到新对象</li>
<li>运行构造函数中的代码</li>
<li>返回新对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">  <span class="keyword">this</span>.introduceSelf = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`你好！我是 <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>。`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>要将<code>Person()</code>作为构造函数调用，我们使用<code>new</code>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> salva = <span class="keyword">new</span> Person(<span class="string">"Salva"</span>);</span><br><span class="line">salva.name;</span><br><span class="line">salva.introduceSelf();</span><br><span class="line"><span class="comment">// "你好！我是 Salva。"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> frankie = <span class="keyword">new</span> Person(<span class="string">"Frankie"</span>);</span><br><span class="line">frankie.name;</span><br><span class="line">frankie.introduceSelf();</span><br><span class="line"><span class="comment">// "你好！我是 Frankie。"</span></span><br></pre></td></tr></table></figure>
<h3 id="对象原型"><a href="#对象原型" class="headerlink" title="对象原型"></a>对象原型</h3><p>原型是JavaScript对象相互继承特性的机制。</p>
<h4 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h4><blockquote>
<p>在控制台输入对象名称，后跟一个小数点，会列出一系列属性。其中有许多并不是我们定义的属性，但可以成功调用。那么这些属性是哪来的？</p>
</blockquote>
<p>JavaScript中所有对象都有一个内置属性，称为它的prototype（原型）。它本身是一个对象，故原型对象也会有它自己的原型，逐渐构成<strong>原型链</strong>。终止与拥有<code>null</code>作为原型的对象</p>
<p>当你视图访问一个对象的属性时，如果在对象本身找不到该属性，就会在原型中搜索。以此类推，直到找到属性，或者到达链的末端（返回<code>undefined</code>）</p>
<h4 id="属性遮蔽"><a href="#属性遮蔽" class="headerlink" title="属性遮蔽"></a>属性遮蔽</h4><p>若你在一个对象中定义了一个属性，但该对象的原型中存在同名属性：</p>
<p>浏览器会先在对象中寻找方法，没有的话才会再原型中查找，因此会调用对象中定义的属性</p>
<h4 id="设置原型"><a href="#设置原型" class="headerlink" title="设置原型"></a>设置原型</h4><p><strong>使用Object.create</strong></p>
<p><code>Object.create()</code>方法创建一个新的对象，并允许指定一个对象作为原型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> personPrototype = &#123;</span><br><span class="line">  greet() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"hello!"</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> carl = <span class="built_in">Object</span>.create(personPrototype);</span><br><span class="line">carl.greet(); <span class="comment">// hello!</span></span><br></pre></td></tr></table></figure>
<p><strong>使用构造函数</strong></p>
<p>在JavaScript中，所有函数都有一个名为<code>prototype</code>的属性。当你调用一个函数作为构造函数时，该属性被设置为新构造对象的原型</p>
<p>因此，我们可以通过设置构造函数<code>prototype</code>属性，保证所有由该构造函数创建的对象，都被赋予设定的原型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> personPrototype = &#123;</span><br><span class="line">  greet() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`你好，我的名字是 <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>！`</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">Object</span>.assign(Person.prototype, personPrototype);</span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line"><span class="comment">// Person.prototype.greet = personPrototype.greet;</span></span><br></pre></td></tr></table></figure>
<h4 id="原型与继承"><a href="#原型与继承" class="headerlink" title="原型与继承"></a>原型与继承</h4><blockquote>
<p>原型是一个强大且灵活的功能，使得重用代码和组合对象成为可能</p>
</blockquote>
<p>原型支持某种意义的继承，这是面向对象编程的一个特点</p>
<h3 id="面向对象编程基本概念"><a href="#面向对象编程基本概念" class="headerlink" title="面向对象编程基本概念"></a>面向对象编程基本概念</h3><p>面向对象编程主要包括三个概念：类与实例、继承、封装。</p>
<p>它将一个系统抽象为许多对象的集合，对象包括数据和方法。</p>
<p>一个对象可以向其他部分的代码提供公共接口，从而其他部分代码可以执行该对象的特定操作，但不需要关心内部是如何完成任务的，保证了对象内部状态的私有性</p>
<h4 id="类与实例"><a href="#类与实例" class="headerlink" title="类与实例"></a>类与实例</h4><blockquote>
<p>当我们使用面向对象编程对一个问题进行建模时，我们会创建一系列抽象的定义，代表系统中存在的各类对象。</p>
</blockquote>
<p>类是一种用于创建具体对象的模版，创建出的对象叫做<strong>实例</strong>。</p>
<p>由类创建实例是由构造函数完成的，需要将构造函数作为类定义的一部分，且函数名和类名相同：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  name;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(name) &#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  introduceSelf() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hi! I'm <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们使用<code>constuctor</code>关键字声明构造函数，当我们不需要初始化内容时，可以省略</p>
<h4 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h4><p>我们注意到老师和学生都是人，具有一定相同的属性和方法，因此我们可以将人定义为一个新类</p>
<p>在这种情况下，我们称<code>Person</code>类是<code>Professor</code>类和<code>Student</code>类的<strong>超类</strong>或<strong>父类</strong>。反之，为<strong>子类</strong></p>
<p>当一个方法在不同的类中，拥有相同的函数名，但具体实现不同，我们将这一特性称为<strong>多态</strong>。当一个方法在子类中替换了父类的实现，我们称之为子类<strong>重写</strong>了父类的实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Professor</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  teaches;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(name, teaches) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">    <span class="keyword">this</span>.teaches = teaches;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  introduceSelf() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(</span><br><span class="line">      <span class="string">`My name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, and I will be your <span class="subst">$&#123;<span class="keyword">this</span>.teaches&#125;</span> professor.`</span>,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  grade(paper) &#123;</span><br><span class="line">    <span class="keyword">const</span> grade = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (<span class="number">5</span> - <span class="number">1</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(grade);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h4><blockquote>
<p>对象的内部状态保持了私有性，外部代码只能通过对象所提供的接口访问和修改对象的内部状态，不能直接访问和修改对象的内部状态</p>
</blockquote>
<p>保持对象内部状态的私有性、明确划分对象的公共接口和内部状态，这一特性称为<strong>封装</strong></p>
<p>便于方法的更新</p>
<p>私有属性和私有方法需要以<code>#</code>开头</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">  #year;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">constructor</span>(name, year) &#123;</span><br><span class="line">    <span class="keyword">super</span>(name);</span><br><span class="line">    this.#year = year;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  introduceSelf() &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`Hi! I'm <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>, and I'm in year <span class="subst">$&#123;<span class="keyword">this</span>.#year&#125;</span>.`</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  canStudyArchery() &#123;</span><br><span class="line">    return this.#year &gt; 1;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>定义了私有性后，不能在外部访问，否则会抛出<code>SyntaxError</code></p>
<h3 id="使用JSON"><a href="#使用JSON" class="headerlink" title="使用JSON"></a>使用JSON</h3><blockquote>
<p>JavaScript对象表示法（JavaScript Object Notation, JSON），是用于将结构化数据表示为JavaScript对象的标准格式。通常用于在网站上表示和传输数据</p>
</blockquote>
<h4 id="什么是JSON？"><a href="#什么是JSON？" class="headerlink" title="什么是JSON？"></a>什么是JSON？</h4><p>JSON是一种按照JavaScript对象语法的数据格式，虽然基于JavaScript，但是独立于JavaScript。JSON可以最为一个对象或字符串存在，前者用于解读JSON属性，后者用于网络传输。JavaScript提供一个全局的可访问的JSON对象来对这两种数据进行转换。</p>
<blockquote>
<p>将字符串转为原生对象称为反序列化，反之为序列化</p>
</blockquote>
<p><strong>JSON结构</strong></p>
<p>JSON的格式非常类似于JavaScript对象字面量。可以在JSON中包含与标准JavaScript对象相同的基本数据类型（字符串、数字、数组、布尔值和其他对象字面量），例如：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"squadName"</span>: <span class="string">"Super hero squad"</span>,</span><br><span class="line">  <span class="attr">"homeTown"</span>: <span class="string">"Metro City"</span>,</span><br><span class="line">  <span class="attr">"formed"</span>: <span class="number">2016</span>,</span><br><span class="line">  <span class="attr">"secretBase"</span>: <span class="string">"Super tower"</span>,</span><br><span class="line">  <span class="attr">"active"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"members"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"Molecule Man"</span>,</span><br><span class="line">      <span class="attr">"age"</span>: <span class="number">29</span>,</span><br><span class="line">      <span class="attr">"secretIdentity"</span>: <span class="string">"Dan Jukes"</span>,</span><br><span class="line">      <span class="attr">"powers"</span>: [<span class="string">"Radiation resistance"</span>, <span class="string">"Turning tiny"</span>, <span class="string">"Radiation blast"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"Madame Uppercut"</span>,</span><br><span class="line">      <span class="attr">"age"</span>: <span class="number">39</span>,</span><br><span class="line">      <span class="attr">"secretIdentity"</span>: <span class="string">"Jane Wilson"</span>,</span><br><span class="line">      <span class="attr">"powers"</span>: [</span><br><span class="line">        <span class="string">"Million tonne punch"</span>,</span><br><span class="line">        <span class="string">"Damage resistance"</span>,</span><br><span class="line">        <span class="string">"Superhuman reflexes"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"name"</span>: <span class="string">"Eternal Flame"</span>,</span><br><span class="line">      <span class="attr">"age"</span>: <span class="number">1000000</span>,</span><br><span class="line">      <span class="attr">"secretIdentity"</span>: <span class="string">"Unknown"</span>,</span><br><span class="line">      <span class="attr">"powers"</span>: [</span><br><span class="line">        <span class="string">"Immortality"</span>,</span><br><span class="line">        <span class="string">"Heat Immunity"</span>,</span><br><span class="line">        <span class="string">"Inferno"</span>,</span><br><span class="line">        <span class="string">"Teleportation"</span>,</span><br><span class="line">        <span class="string">"Interdimensional travel"</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>将字符串加载到JavaScript程序中，并将其解析到一个名为<code>superHeroes</code>的变量，可以访问其中的数据：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">superHeroes.hometown;</span><br><span class="line">superHeroes[<span class="string">"active"</span>];</span><br><span class="line">superHeroes[<span class="string">"members"</span>][<span class="number">1</span>][<span class="string">"powers"</span>][<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<p><strong>JSON数组</strong></p>
<p>以下也是合法的JSON</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Molecule Man"</span>,</span><br><span class="line">    <span class="string">"age"</span>: <span class="number">29</span>,</span><br><span class="line">    <span class="string">"secretIdentity"</span>: <span class="string">"Dan Jukes"</span>,</span><br><span class="line">    <span class="string">"powers"</span>: [<span class="string">"Radiation resistance"</span>, <span class="string">"Turning tiny"</span>, <span class="string">"Radiation blast"</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">"name"</span>: <span class="string">"Madame Uppercut"</span>,</span><br><span class="line">    <span class="string">"age"</span>: <span class="number">39</span>,</span><br><span class="line">    <span class="string">"secretIdentity"</span>: <span class="string">"Jane Wilson"</span>,</span><br><span class="line">    <span class="string">"powers"</span>: [</span><br><span class="line">      <span class="string">"Million tonne punch"</span>,</span><br><span class="line">      <span class="string">"Damage resistance"</span>,</span><br><span class="line">      <span class="string">"Superhuman reflexes"</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>:warning:<strong>注意</strong></p>
<ul>
<li>JSON是纯数据格式，只包含属性，没有方法</li>
<li>JSON要求在字符串和属性名周围使用双引号</li>
<li>JSON中只有带引号的字符串可以用作属性</li>
</ul>
<h4 id="对象和文本间的转换"><a href="#对象和文本间的转换" class="headerlink" title="对象和文本间的转换"></a>对象和文本间的转换</h4><p><code>parse()</code>：将文本转换为JavaScript对象</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">populate</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> requestURL =</span><br><span class="line">    <span class="string">"https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json"</span>;</span><br><span class="line">  <span class="keyword">const</span> request = <span class="keyword">new</span> Request(requestURL);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(request);</span><br><span class="line">  <span class="keyword">const</span> superHeroesText = <span class="keyword">await</span> response.text();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> superHeroes = <span class="built_in">JSON</span>.parse(superHeroesText);</span><br><span class="line">  populateHeader(superHeroes);</span><br><span class="line">  populateHeroes(superHeroes);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>stringfy()</code>：将对象转换为文本</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myObj = &#123; <span class="attr">name</span>: <span class="string">"Chris"</span>, <span class="attr">age</span>: <span class="number">38</span> &#125;;</span><br><span class="line">myObj;</span><br><span class="line"><span class="keyword">let</span> myString = <span class="built_in">JSON</span>.stringify(myObj);</span><br><span class="line">myString;</span><br></pre></td></tr></table></figure>
<h2 id="异步JavaScript"><a href="#异步JavaScript" class="headerlink" title="异步JavaScript"></a>异步JavaScript</h2><h3 id="异步JavaScript简介"><a href="#异步JavaScript简介" class="headerlink" title="异步JavaScript简介"></a>异步JavaScript简介</h3><blockquote>
<p>异步技术使你的程序可以在执行一个可能长期运行的任务的同时，继续对其他事件做出反应而不必等待任务完成</p>
</blockquote>
<p>浏览器提供的许多服务可能需要较长耗时，因此需要异步完成，例如：</p>
<ul>
<li><code>fetch()</code>，发起HTTP请求</li>
<li><code>getUserMedia()</code>，访问用户摄像头和麦克风</li>
<li><code>showOpenFilePicker()</code>，请求用户选择文件以访问</li>
</ul>
<h4 id="同步编程"><a href="#同步编程" class="headerlink" title="同步编程"></a>同步编程</h4><p>浏览器按照我们书写代码的顺序一行行执行，在一行结束后才会执行下一行。这是很有必要的，因为每一行代码都是建立在前面代码的基础之上</p>
<p>当调用函数耗时长时，无法进行后续操作。我们希望能有一种方法：</p>
<ul>
<li>通过调用一个函数来启动一个长耗时操作</li>
<li>让函数开始操作后立即返回，我们的程序可以保持对其他事物做出反应的能力</li>
<li>当操作完成时，通知结果</li>
</ul>
<h4 id="事件处理程序"><a href="#事件处理程序" class="headerlink" title="事件处理程序"></a>事件处理程序</h4><p>事件处理程序是异步编程的一种形式，提供的函数（事件处理程序）将在事件发生时（而不是立即）被调用。</p>
<p>一些早期的异步API就是用这种方式使用事件的。<code>XMLHttpRequest</code> API可以让你用JavaScript</p>
<p>向远程服务器发起HTTP请求。由于可能耗时久，所以被设计成异步API，可以通过<u>给<code>XMLHttpRequest</code>对象添加事件监听器</u>来让程序再请求进展和最终完成是获得通知：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> log = <span class="built_in">document</span>.querySelector(<span class="string">".event-log"</span>);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#xhr"</span>).addEventListener(<span class="string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  log.textContent = <span class="string">""</span>;</span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">  xhr.addEventListener(<span class="string">"loadend"</span>, () =&gt; &#123;</span><br><span class="line">    log.textContent = <span class="string">`<span class="subst">$&#123;log.textContent&#125;</span>完成！状态码：<span class="subst">$&#123;xhr.status&#125;</span>`</span>;</span><br><span class="line">  &#125;);</span><br><span class="line">  xhr.open(</span><br><span class="line">    <span class="string">"GET"</span>,</span><br><span class="line">    <span class="string">"https://raw.githubusercontent.com/mdn/content/main/files/en-us/_wikihistory.json"</span>,</span><br><span class="line">  );</span><br><span class="line">  xhr.send();</span><br><span class="line">  log.textContent = <span class="string">`<span class="subst">$&#123;log.textContent&#125;</span>请求已发起\n`</span>;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#reload"</span>).addEventListener(<span class="string">"click"</span>, () =&gt; &#123;</span><br><span class="line">  log.textContent = <span class="string">""</span>;</span><br><span class="line">  <span class="built_in">document</span>.location.reload();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="回调"><a href="#回调" class="headerlink" title="回调"></a>回调</h4><blockquote>
<p>回调函数式一个被传递到另一个函数中，会在适当的时候被调用的函数。它曾是JavaScript中实现异步函数的主要方式。</p>
</blockquote>
<p>事件处理程序是一种特殊的回调函数</p>
<p>然而，当回调函数本身需要调用其他包含回调函数的函数时，就会变得复杂。例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStep1</span>(<span class="params">init, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = init + <span class="number">1</span>;</span><br><span class="line">  callback(result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStep2</span>(<span class="params">init, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = init + <span class="number">2</span>;</span><br><span class="line">  callback(result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doStep3</span>(<span class="params">init, callback</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> result = init + <span class="number">3</span>;</span><br><span class="line">  callback(result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doOperation</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  doStep1(<span class="number">0</span>, (result1) =&gt; &#123;</span><br><span class="line">    doStep2(result1, (result2) =&gt; &#123;</span><br><span class="line">      doStep3(result2, (result3) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">`结果：<span class="subst">$&#123;result3&#125;</span>`</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line">doOperation();</span><br></pre></td></tr></table></figure>
<p>会造成深度嵌套，难以阅读和调试，被称为“回调地狱”。因此，大多数现代异步API不使用回调。事实上，JavaScript中异步编程的基础是<code>Promise</code></p>
<h3 id="如何使用Promise"><a href="#如何使用Promise" class="headerlink" title="如何使用Promise"></a>如何使用Promise</h3><blockquote>
<p>Promise是现代JavaScript中异步编程的基础。它是一个由异步函数返回的对象，可以指示操作当前所处的状态。在Promise返回给调用者时，操作往往还没完成，但Promise对象提供了方法来处理操作最终的成功或失败</p>
</blockquote>
<h4 id="使用fetch-API"><a href="#使用fetch-API" class="headerlink" title="使用fetch() API"></a>使用fetch() API</h4><p><code>fetch()</code> API是一个现代的、基于Promise的、用于替代<code>XMLHttpRequest</code>的方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchPromise = fetch(</span><br><span class="line">  <span class="string">"https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json"</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(fetchPromise);</span><br><span class="line"></span><br><span class="line">fetchPromise.then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`已收到响应：<span class="subst">$&#123;response.status&#125;</span>`</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"已发送请求……"</span>);</span><br></pre></td></tr></table></figure>
<p>已收到的响应最后显示，<code>fetch()</code>请求仍在进行时就返回了，使程序保持响应性</p>
<p>将处理程序传到返回的Promise对象的<code>then()</code>方法中</p>
<h4 id="链式使用Promise"><a href="#链式使用Promise" class="headerlink" title="链式使用Promise"></a>链式使用Promise</h4><p>在这里，我们想获得JSON格式的响应数据，所以调用<code>Reqsponse</code>对象的<code>json()</code>方法。事实上，<code>json()</code>也是异步的，我们连续调用了两个异步函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchPromise = fetch(</span><br><span class="line">  <span class="string">"https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json"</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">fetchPromise.then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> jsonPromise = response.json();</span><br><span class="line">  jsonPromise.then(<span class="function">(<span class="params">json</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(json[<span class="number">0</span>].name);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>Promise的优雅之处在于<code>then()</code>本身也会返回一个Promise，指示<code>then()</code>中调用异步函数的完成状态，我们将上述代码可以写作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fetchPromise = fetch(</span><br><span class="line">  <span class="string">"https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json"</span>,</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">fetchPromise</span><br><span class="line">  .then(<span class="function">(<span class="params">response</span>) =&gt;</span> response.json())</span><br><span class="line">  .then(<span class="function">(<span class="params">data</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(data[<span class="number">0</span>].name);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>我们可以直接返回<code>json()</code>返回的Promise，并在它基础上调用第二个<code>then()</code>，这被称为<strong>Promise链</strong></p>
<h4 id="错误捕获"><a href="#错误捕获" class="headerlink" title="错误捕获"></a>错误捕获</h4><p><code>fetch()</code>API可能因为很多原因抛出错误，我们也会在服务器返回错误消息时抛出一个错误。</p>
<p>为了支持错误处理，<code>Promise</code>对象提供一个<code>catch()</code>方法：当异步操作成功时，传递给<code>then()</code>，否则传递给<code>catch()</code></p>
<h4 id="Promise-术语"><a href="#Promise-术语" class="headerlink" title="Promise 术语"></a>Promise 术语</h4><p>首先，Promise有三种状态：</p>
<ul>
<li>待定（pending）：初始状态。此时请求还在进行中</li>
<li>已兑现（fulfilled）：操作成功</li>
<li>已拒绝（rejected）：操作失败</li>
</ul>
<h4 id="async-和-await"><a href="#async-和-await" class="headerlink" title="async 和 await"></a>async 和 await</h4><p><code>async</code>关键字提供了一种更简单的方法处理基于异步Promise的代码，在一个函数的开头添加<code>async</code>，就可以使其成为一个异步函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">myFunction</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 这是一个异步函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在异步函数中，可以在调用一个返回Promise的函数前，使用<code>await</code>关键字。这会使代码在该点等待，直到Promise被完成。例如，重写我们的fetch示例：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">fetchProducts</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// 在这一行之后，我们的函数将等待 `fetch()` 调用完成</span></span><br><span class="line">    <span class="comment">// 调用 `fetch()` 将返回一个“响应”或抛出一个错误</span></span><br><span class="line">    <span class="keyword">const</span> response = <span class="keyword">await</span> fetch(</span><br><span class="line">      <span class="string">"https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json"</span>,</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">if</span> (!response.ok) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">`HTTP 请求错误：<span class="subst">$&#123;response.status&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 在这一行之后，我们的函数将等待 `response.json()` 的调用完成</span></span><br><span class="line">    <span class="comment">// `response.json()` 调用将返回 JSON 对象或抛出一个错误</span></span><br><span class="line">    <span class="keyword">const</span> json = <span class="keyword">await</span> response.json();</span><br><span class="line">    <span class="built_in">console</span>.log(json[<span class="number">0</span>].name);</span><br><span class="line">  &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">    <span class="built_in">console</span>.error(<span class="string">`无法获取产品列表：<span class="subst">$&#123;error&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fetchProducts();</span><br></pre></td></tr></table></figure>


        <hr />
        <!-- Pager -->
        <ul class="pager">
           
          <li class="next">
            <a
              href="/2024/06/17/前端学习笔记二/"
              data-toggle="tooltip"
              data-placement="top"
              title="[Fontend Notes 2] CSS"
              >Next Post &rarr;</a
            >
          </li>
          
        </ul>

        <!-- tip start -->
         
        <div class="comment_notes">
          <p>This is copyright.</p>
        </div>
        
        <!-- tip end -->

        <!-- Music start-->
        
        <!-- Music end -->

        <!-- Sharing -->
        
        <div
          class="social-share"
          data-wechat-qrcode-helper=""
          align="center"
        ></div>
        <!--  css & js -->
        <link
          rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/css/share.min.css"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script>
        
        <!-- Sharing -->

        <!-- gitment start -->
        
        <!-- gitment end -->

        <!-- 来必力City版安装代码 -->
        
        <!-- City版安装代码已完成 -->

        <!-- disqus comment start -->
        
        <!-- disqus comment end -->

        <!-- waline comment start -->
        
        <!-- waline comment end -->
      </div>

      <!-- Tabe of Content -->
      <!-- Table of Contents -->

    
      
        <aside id="sidebar">
          <div id="toc" class="toc-article">
          <strong class="toc-title">Contents</strong>
          
            
              <ol class="toc-nav"><li class="toc-nav-item toc-nav-level-1"><a class="toc-nav-link" href="#JavaScript学习笔记"><span class="toc-nav-number">1.</span> <span class="toc-nav-text">JavaScript学习笔记</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#JavaScript第一步"><span class="toc-nav-number">1.1.</span> <span class="toc-nav-text">JavaScript第一步</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#什么是JavaScript"><span class="toc-nav-number">1.1.1.</span> <span class="toc-nav-text">什么是JavaScript</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#定义"><span class="toc-nav-number">1.1.1.1.</span> <span class="toc-nav-text">定义</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#它可以做什么？"><span class="toc-nav-number">1.1.1.2.</span> <span class="toc-nav-text">它可以做什么？</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#它在页面上做了什么？"><span class="toc-nav-number">1.1.1.3.</span> <span class="toc-nav-text">它在页面上做了什么？</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#如何向页面添加JavaScript？"><span class="toc-nav-number">1.1.1.4.</span> <span class="toc-nav-text">如何向页面添加JavaScript？</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#变量"><span class="toc-nav-number">1.1.2.</span> <span class="toc-nav-text">变量</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#声明变量"><span class="toc-nav-number">1.1.2.1.</span> <span class="toc-nav-text">声明变量</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#变量类型"><span class="toc-nav-number">1.1.2.2.</span> <span class="toc-nav-text">变量类型</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#动态类型"><span class="toc-nav-number">1.1.2.3.</span> <span class="toc-nav-text">动态类型</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#JavaScript中的字符串"><span class="toc-nav-number">1.1.3.</span> <span class="toc-nav-text">JavaScript中的字符串</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#嵌入JavaScript"><span class="toc-nav-number">1.1.3.1.</span> <span class="toc-nav-text">嵌入JavaScript</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#数字与字符串"><span class="toc-nav-number">1.1.3.2.</span> <span class="toc-nav-text">数字与字符串</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#字符串方法"><span class="toc-nav-number">1.1.3.3.</span> <span class="toc-nav-text">字符串方法</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#数组"><span class="toc-nav-number">1.1.4.</span> <span class="toc-nav-text">数组</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#数组方法"><span class="toc-nav-number">1.1.4.1.</span> <span class="toc-nav-text">数组方法</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#JavaScript基础"><span class="toc-nav-number">1.2.</span> <span class="toc-nav-text">JavaScript基础</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#函数"><span class="toc-nav-number">1.2.1.</span> <span class="toc-nav-text">函数</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#调用函数"><span class="toc-nav-number">1.2.1.1.</span> <span class="toc-nav-text">调用函数</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#匿名函数和箭头函数"><span class="toc-nav-number">1.2.1.2.</span> <span class="toc-nav-text">匿名函数和箭头函数</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#事件介绍"><span class="toc-nav-number">1.2.2.</span> <span class="toc-nav-text">事件介绍</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#什么是事件？"><span class="toc-nav-number">1.2.2.1.</span> <span class="toc-nav-text">什么是事件？</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#addEventListener"><span class="toc-nav-number">1.2.2.2.</span> <span class="toc-nav-text">addEventListener()</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#其他事件监听器机制"><span class="toc-nav-number">1.2.2.3.</span> <span class="toc-nav-text">其他事件监听器机制</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#事件对象"><span class="toc-nav-number">1.2.2.4.</span> <span class="toc-nav-text">事件对象</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#阻止默认行为"><span class="toc-nav-number">1.2.2.5.</span> <span class="toc-nav-text">阻止默认行为</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#事件冒泡"><span class="toc-nav-number">1.2.2.6.</span> <span class="toc-nav-text">事件冒泡</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#JavaScript对象介绍"><span class="toc-nav-number">1.3.</span> <span class="toc-nav-text">JavaScript对象介绍</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#JavaScript对象基础"><span class="toc-nav-number">1.3.1.</span> <span class="toc-nav-text">JavaScript对象基础</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#对象基础"><span class="toc-nav-number">1.3.1.1.</span> <span class="toc-nav-text">对象基础</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#点表示法和括号表示法"><span class="toc-nav-number">1.3.1.2.</span> <span class="toc-nav-text">点表示法和括号表示法</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#设置对象成员"><span class="toc-nav-number">1.3.1.3.</span> <span class="toc-nav-text">设置对象成员</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#this的含义"><span class="toc-nav-number">1.3.1.4.</span> <span class="toc-nav-text">this的含义</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#构造函数介绍"><span class="toc-nav-number">1.3.1.5.</span> <span class="toc-nav-text">构造函数介绍</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#对象原型"><span class="toc-nav-number">1.3.2.</span> <span class="toc-nav-text">对象原型</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#原型链"><span class="toc-nav-number">1.3.2.1.</span> <span class="toc-nav-text">原型链</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#属性遮蔽"><span class="toc-nav-number">1.3.2.2.</span> <span class="toc-nav-text">属性遮蔽</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#设置原型"><span class="toc-nav-number">1.3.2.3.</span> <span class="toc-nav-text">设置原型</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#原型与继承"><span class="toc-nav-number">1.3.2.4.</span> <span class="toc-nav-text">原型与继承</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#面向对象编程基本概念"><span class="toc-nav-number">1.3.3.</span> <span class="toc-nav-text">面向对象编程基本概念</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#类与实例"><span class="toc-nav-number">1.3.3.1.</span> <span class="toc-nav-text">类与实例</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#继承"><span class="toc-nav-number">1.3.3.2.</span> <span class="toc-nav-text">继承</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#封装"><span class="toc-nav-number">1.3.3.3.</span> <span class="toc-nav-text">封装</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#使用JSON"><span class="toc-nav-number">1.3.4.</span> <span class="toc-nav-text">使用JSON</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#什么是JSON？"><span class="toc-nav-number">1.3.4.1.</span> <span class="toc-nav-text">什么是JSON？</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#对象和文本间的转换"><span class="toc-nav-number">1.3.4.2.</span> <span class="toc-nav-text">对象和文本间的转换</span></a></li></ol></li></ol></li><li class="toc-nav-item toc-nav-level-2"><a class="toc-nav-link" href="#异步JavaScript"><span class="toc-nav-number">1.4.</span> <span class="toc-nav-text">异步JavaScript</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#异步JavaScript简介"><span class="toc-nav-number">1.4.1.</span> <span class="toc-nav-text">异步JavaScript简介</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#同步编程"><span class="toc-nav-number">1.4.1.1.</span> <span class="toc-nav-text">同步编程</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#事件处理程序"><span class="toc-nav-number">1.4.1.2.</span> <span class="toc-nav-text">事件处理程序</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#回调"><span class="toc-nav-number">1.4.1.3.</span> <span class="toc-nav-text">回调</span></a></li></ol></li><li class="toc-nav-item toc-nav-level-3"><a class="toc-nav-link" href="#如何使用Promise"><span class="toc-nav-number">1.4.2.</span> <span class="toc-nav-text">如何使用Promise</span></a><ol class="toc-nav-child"><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#使用fetch-API"><span class="toc-nav-number">1.4.2.1.</span> <span class="toc-nav-text">使用fetch() API</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#链式使用Promise"><span class="toc-nav-number">1.4.2.2.</span> <span class="toc-nav-text">链式使用Promise</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#错误捕获"><span class="toc-nav-number">1.4.2.3.</span> <span class="toc-nav-text">错误捕获</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#Promise-术语"><span class="toc-nav-number">1.4.2.4.</span> <span class="toc-nav-text">Promise 术语</span></a></li><li class="toc-nav-item toc-nav-level-4"><a class="toc-nav-link" href="#async-和-await"><span class="toc-nav-number">1.4.2.5.</span> <span class="toc-nav-text">async 和 await</span></a></li></ol></li></ol></li></ol></li></ol>
            
          
          </div>
        </aside>
      
    


      <!-- Sidebar Container -->
      <div
        class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 sidebar-container"
      >
        <!-- Featured Tags -->
        
        <section>
          <!-- no hr -->
          <h5><a href="/tags/">FEATURED TAGS</a></h5>
          <div class="tags">
            
            <a
              class="tag"
              href="/tags/#前端学习笔记"
              title="前端学习笔记"
              >前端学习笔记</a
            >
            
          </div>
        </section>
        

        <!-- Friends Blog -->
        
        <hr />
        <h5>FRIENDS</h5>
        <ul class="list-inline">
          
          <li>
            <a href="https://blog.csdn.net/d_Nail" target="_blank">Dusign&#39;s Blog</a>
          </li>
          
          <li>
            <a href="#" target="_blank">Dusign&#39;s Web</a>
          </li>
          
          <li>
            <a href="https://github.com/dusign" target="_blank">Dusign&#39;s Github</a>
          </li>
          
          <li>
            <a href="#" target="_blank">Other</a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</article>

 
<!-- async load function -->
<script>
  function async(u, c) {
    var d = document,
      t = "script",
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) {
      o.addEventListener(
        "load",
        function (e) {
          c(null, e);
        },
        false
      );
    }
    s.parentNode.insertBefore(o, s);
  }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
  async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js", function () {
    anchors.options = {
      visible: "hover",
      placement: "left",
      icon: "ℬ",
    };
    anchors
      .add()
      .remove(".intro-header h1")
      .remove(".subheading")
      .remove(".sidebar-container h5");
  });
</script>

<style type="text/css">
  /* place left on bigger screen */
  @media all and (min-width: 800px) {
    .anchorjs-link {
      position: absolute;
      left: -0.75em;
      font-size: 1.1em;
      margin-top: -0.1em;
    }
  }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">

                
                    <li>
                        <a target="_blank"  href="https://github.com/xoioiiox">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                

                

                

                

                

                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; xoioiiox 2024 
                    <br>
                    Powered by 
                    <a href="https://github.com/xoioiiox" target="_blank" rel="noopener">
                        <i>xoioiiox</i>
                    </a> | 
                    <iframe name="star" style="margin-left: 2px; margin-bottom:-5px;" frameborder="0" scrolling="0"
                        width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=dusign&repo=hexo-theme-snail&type=star&count=true">
                    </iframe>
                </p>
            </div>
        </div>
    </div>

</footer>

<!-- jQuery -->

<script src="/js/jquery.min.js"></script>


<!-- Bootstrap Core JavaScript -->

<script src="/js/bootstrap.min.js"></script>


<!-- Custom Theme JavaScript -->

<script src="/js/hux-blog.min.js"></script>


<!-- Search -->

<script src="/js/search.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://xoioiiox.github.io/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-XXXXXXXX-X';
    var _gaDomain = 'yoursite';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Search -->

    <script type="text/javascript">      
        var search_path = "search.xml";
        if (search_path.length == 0) {
            search_path = "search.xml";
        }
    var path = "/" + search_path;
    searchFunc(path, 'local-search-input', 'local-search-result');
    </script>


<!-- busuanzi -->
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>






	<a id="rocket" href="#top" class=""></a>
	<script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
    <script type="text/javascript" src="/js/toc.js?v=1.0.0" async=""></script>

    
        <!-- background effects line -->
        

        
            <script type="text/javascript" src="/js/mouse-click.js" content='[&#34;❤️&#34;,&#34;🥥&#34;,&#34;🍅&#34;,&#34;🧀&#34;,&#34;🍨&#34;,&#34;🍇&#34;,&#34;🍩&#34;]' color='[&#34;rgb(121,93,179)&#34; ,&#34;rgb(76,180,231)&#34; ,&#34;rgb(184,90,154)&#34;]'></script>
        

        <!-- background effects end -->
    

    <!--<script size="50" alpha='0.3' zIndex="-999" src="/js/ribbonStatic.js"></script>-->
    
        <script src="/js/ribbonDynamic.js"></script>
    
</body>

</html>
